var buttonWidth,containerWidth,rrsiInit=function(){var e=$(".rrsi-buttons li").length,t=100/e;containerWidth=$(".rrsi-buttons").width();$(".rrsi-buttons").attr("data-width",containerWidth);$(".rrsi-buttons li").css("width",t+"%").attr("data-initwidth",t);$(".rrsi-buttons li .text").each(function(){var e=$(this).width();$(this).closest("li").attr("data-size",e)});rrsiMagicLayout()},rrsiMagicLayout=function(){var e,t,n,r,i;containerWidth=$(".rrsi-buttons").width();$(".rrsi-buttons").attr("data-width",containerWidth);buttonWidth=$(".rrsi-buttons li").not(".small").first().width();$(".demozone").val(buttonWidth);buttonWidth>170?$(".rrsi-buttons").addClass("large-format"):buttonWidth<=170&&$(".rrsi-buttons").removeClass("large-format");r=$(".rrsi-buttons li.small").length;if(r>0){n=r*42;e=$(".rrsi-buttons li").not(".small").length;regPercent=100/e;i=n/e;navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Safari")>=0?magicWidth="-webkit-calc("+regPercent+"% - "+i+"px)":navigator.userAgent.indexOf("Firefox")>=0?magicWidth="-moz-calc("+regPercent+"% - "+i+"px)":magicWidth="calc("+regPercent+"% - "+i+"px)";console.log(magicWidth);$(".rrsi-buttons li").not(".small").css("width",magicWidth);console.log("small button fraction: "+i)}},waitForFinalEvent=function(){var e={};return function(t,n,r){r||(r="Don't call this twice without a uniqueId");e[r]&&clearTimeout(e[r]);e[r]=setTimeout(t,n)}}();$(window).resize(function(){rrsiMagicLayout()});$(document).ready(function(){rrsiInit()});