var buttonWidth,containerWidth,smallBtnCount,setPercentBtns=function(){var e=$(".rrsi-buttons li").length,t=100/e},makeLargeBtns=function(){buttonWidth=$(".rrsi-buttons li").not(".small").first().width();buttonWidth>170?$(".rrsi-buttons").addClass("large-format"):buttonWidth<=170&&$(".rrsi-buttons").removeClass("large-format")},sizeSmallBtns=function(){var e,t,n;smallBtnCount=$(".rrsi-buttons li.small").length;$(".smallbtnsdude span").html(smallBtnCount);if(smallBtnCount>0){t=smallBtnCount*42;e=$(".rrsi-buttons li").not(".small").length;regPercent=100/e;n=t/e;navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Safari")>=0?magicWidth="-webkit-calc("+regPercent+"% - "+n+"px)":navigator.userAgent.indexOf("Firefox")>=0?magicWidth="-moz-calc("+regPercent+"% - "+n+"px)":magicWidth="calc("+regPercent+"% - "+n+"px)";$(".rrsi-buttons li").not(".small").css("width",magicWidth)}else{var r=$(".rrsi-buttons li").length,i=100/r;$(".rrsi-buttons li").css("width",i+"%").attr("data-initwidth",i)}makeLargeBtns()},rrsiInit=function(){var e=$(".rrsi-buttons li").length,t=100/e;$(".rrsi-buttons li").css("width",t+"%").attr("data-initwidth",t);$(".rrsi-buttons li .text").each(function(e){var t=parseFloat($(this).width());$(this).closest("li").attr("data-size",t)});rrsiMagicLayout(sizeSmallBtns)},rrsiMagicLayout=function(e){var t=0;smallBtnCount=$(".rrsi-buttons li.small").length;$(".rrsi-buttons").attr("data-width",containerWidth);$(".rrsi-buttons li:not(.small)").each(function(e){var t=parseFloat($(this).attr("data-size"))+40,n=parseFloat($(this).width());if(t>n){console.log("one touching!");$(".rrsi-buttons li").not(".small").last().addClass("small").css("width","42px");return!1}});$(".rrsi-buttons li.small").each(function(e){var t=parseFloat($(this).attr("data-size"))+40,n=parseFloat($(this).width());console.log("text width: "+t+" and button width: "+n);if(t<n){console.log("one growing!");$(".rrsi-buttons li.small").first().removeClass("small").css("width",$(".rrsi-buttons li:last-child").attr("data-initwidth")+"%");return!1}console.log("never growing")});$(".containersize span").html(containerWidth);$(".buttonspace span").html(t);e()},waitForFinalEvent=function(){var e={};return function(t,n,r){r||(r="Don't call this twice without a uniqueId");e[r]&&clearTimeout(e[r]);e[r]=setTimeout(t,n)}}();$(window).resize(function(){rrsiMagicLayout(sizeSmallBtns)});$(document).ready(function(){rrsiInit()});