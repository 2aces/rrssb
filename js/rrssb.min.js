/*
 Ridiculously Responsive Social Sharing Buttons
 Team: @dbox, @seagoat
 Site: http://www.kurtnoble.com/labs/rrssb
 Twitter: @therealkni

        ___           ___
       /__/|         /__/\        ___
      |  |:|         \  \:\      /  /\
      |  |:|          \  \:\    /  /:/
    __|  |:|      _____\__\:\  /__/::\
   /__/\_|:|____ /__/::::::::\ \__\/\:\__
   \  \:\/:::::/ \  \:\~~\~~\/    \  \:\/\
    \  \::/~~~~   \  \:\  ~~~      \__\::/
     \  \:\        \  \:\          /__/:/
      \  \:\        \  \:\         \__\/
       \__\/         \__\/
*/(function(e,t,n){"use strict";var r;var i=function(){var e=t(".rrssb-buttons li").length;var n=100/e;t(".rrssb-buttons li").css("width",n+"%").attr("data-initwidth",n)};var s=function(){var e=parseFloat(t(".rrssb-buttons").width());var n=t(".rrssb-buttons li").not(".small").first().width();if(n>170&&r<1){t(".rrssb-buttons").addClass("large-format")}else{t(".rrssb-buttons").removeClass("large-format")}if(e<200){t(".rrssb-buttons").removeClass("small-format").addClass("tiny-format")}else{t(".rrssb-buttons").removeClass("tiny-format")}};var o=function(){var e=0,n=0,i,s;if(r===t(".rrssb-buttons li").length){var o=r*42;var u=parseFloat(t(".rrssb-buttons").width());i=t(".rrssb-buttons li.small").first();s=parseFloat(t(i).attr("data-size"))+55;if(o+s<u){t(".rrssb-buttons").removeClass("small-format");t(".rrssb-buttons li.small").first().removeClass("small");a()}}else{t(".rrssb-buttons li").not(".small").each(function(r){var i=parseFloat(t(this).attr("data-size"))+55;var s=parseFloat(t(this).width());e=e+s;n=n+i});var f=e-n;i=t(".rrssb-buttons li.small").first();s=parseFloat(t(i).attr("data-size"))+55;if(s<f){t(i).removeClass("small");a()}}};var u=function(e){var n=t(".rrssb-buttons li").nextAll(),r=n.length;t(t(".rrssb-buttons li").get().reverse()).each(function(e){if(t(this).hasClass("small")===false){var n=parseFloat(t(this).attr("data-size"))+55;var i=parseFloat(t(this).width());if(n>i){var s=t(".rrssb-buttons li").not(".small").last();t(s).addClass("small")}a()}if(!--r)o()});if(e===true){l(a)}};var a=function(){var e,n,o,u,a;r=t(".rrssb-buttons li.small").length;t(".smallbtnsdude span").html(r);if(r>0&&r!==t(".rrssb-buttons li").length){t(".rrssb-buttons").removeClass("small-format");t(".rrssb-buttons li.small").css("width","42px");o=r*42;e=t(".rrssb-buttons li").not(".small").length;n=100/e;a=o/e;if(navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Safari")>=0){u="-webkit-calc("+n+"% - "+a+"px)"}else if(navigator.userAgent.indexOf("Firefox")>=0){u="-moz-calc("+n+"% - "+a+"px)"}else{u="calc("+n+"% - "+a+"px)"}t(".rrssb-buttons li").not(".small").css("width",u)}else if(r===t(".rrssb-buttons li").length){t(".rrssb-buttons").addClass("small-format");i()}else{t(".rrssb-buttons").removeClass("small-format");i()}s()};var f=function(){i();t(".rrssb-buttons li .text").each(function(e){var n=parseFloat(t(this).width());t(this).closest("li").attr("data-size",n)});u(true)};var l=function(e){var n=t(".rrssb-buttons").width();r=t(".rrssb-buttons li.small").length;t(".rrssb-buttons li.small").removeClass("small");u();e()};var c=function(t,r,i,s){var o=e.screenLeft!=n?e.screenLeft:screen.left;var u=e.screenTop!=n?e.screenTop:screen.top;var a=e.innerWidth?e.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var f=e.innerHeight?e.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var l=a/2-i/2+o;var c=f/3-s/3+u;var h=e.open(t,r,"scrollbars=yes, width="+i+", height="+s+", top="+c+", left="+l);if(e.focus){h.focus()}};var h=function(){var e={};return function(t,n,r){if(!r){r="Don't call this twice without a uniqueId"}if(e[r]){clearTimeout(e[r])}e[r]=setTimeout(t,n)}}();t(".rrssb-buttons a.popup").on("click",function(e){var n=t(this);c(n.attr("href"),n.find(".text").html(),580,470);e.preventDefault()});t(e).resize(function(){l(a);h(function(){l(a)},100,"finished resizing")});t(document).ready(function(){f()})})(window,$)