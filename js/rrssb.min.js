var buttonWidth;var smallBtnCount;var setPercentBtns=function(){var e=$(".rrssb-buttons li").length;var t=100/e;$(".rrssb-buttons li").css("width",t+"%").attr("data-initwidth",t)};var makeExtremityBtns=function(){var e=parseFloat($(".rrssb-buttons").width());buttonWidth=$(".rrssb-buttons li").not(".small").first().width();if(buttonWidth>170&&smallBtnCount<1){$(".rrssb-buttons").addClass("large-format")}else{$(".rrssb-buttons").removeClass("large-format")}if(e<200){$(".rrssb-buttons").removeClass("small-format").addClass("tiny-format")}else{$(".rrssb-buttons").removeClass("tiny-format")}};var checkSize=function(){$(".rrssb-buttons li:not(.small)").each(function(e){containerWidth=$(".rrssb-buttons").width();var t=parseFloat($(this).attr("data-size"))+55,n=parseFloat($(this).width());if(t>n){$(".rrssb-buttons li").not(".small").last().addClass("small").css("width","42px").attr("data-break",containerWidth);$(".rrssb-buttons ").attr("data-break",containerWidth);return false}})};var sizeSmallBtns=function(){var e,t,n;smallBtnCount=$(".rrssb-buttons li.small").length;$(".smallbtnsdude span").html(smallBtnCount);if(smallBtnCount>0&&smallBtnCount!==$(".rrssb-buttons li").length){$(".rrssb-buttons").removeClass("small-format");$(".rrssb-buttons li.small").css("width","42px");t=smallBtnCount*42;e=$(".rrssb-buttons li").not(".small").length;regPercent=100/e;n=t/e;if(navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Safari")>=0){magicWidth="-webkit-calc("+regPercent+"% - "+n+"px)"}else if(navigator.userAgent.indexOf("Firefox")>=0){magicWidth="-moz-calc("+regPercent+"% - "+n+"px)"}else{magicWidth="calc("+regPercent+"% - "+n+"px)"}$(".rrssb-buttons li").not(".small").css("width",magicWidth)}else if(smallBtnCount===$(".rrssb-buttons li").length){$(".rrssb-buttons").addClass("small-format");setPercentBtns()}else{$(".rrssb-buttons").removeClass("small-format");setPercentBtns()}makeExtremityBtns()};var rrssbInit=function(){setPercentBtns();$(".rrssb-buttons li .text").each(function(e){var t=parseFloat($(this).width());$(this).closest("li").attr("data-size",t)});$(".rrssb-buttons li:not(.small)").each(function(e){checkSize();rrssbMagicLayout(sizeSmallBtns)});$(".rrssb-buttons a.popup").on("click",function(e){var t=$(this);window.open(t.attr("href"),t.find(".text").html(),"width=580,height=470");e.preventDefault()})};var rrssbMagicLayout=function(e){var t=0,n=$(".rrssb-buttons").width();smallBtnCount=$(".rrssb-buttons li.small").length;checkSize();if(smallBtnCount>0){if(n>parseFloat($(".rrssb-buttons").attr("data-break"))){$(".rrssb-buttons li.small").first().removeClass("small").css("width",$(".rrssb-buttons li:last-child").attr("data-initwidth")+"%");var r=$(".rrssb-buttons li.small").attr("data-break");$(".rrssb-buttons").attr("data-break",r)}}e()};var waitForFinalEvent=function(){var e={};return function(t,n,r){if(!r){r="Don't call this twice without a uniqueId"}if(e[r]){clearTimeout(e[r])}e[r]=setTimeout(t,n)}}();$(window).resize(function(){rrssbMagicLayout(sizeSmallBtns)});$(document).ready(function(){rrssbInit()})