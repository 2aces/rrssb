/*
 Ridiculously Responsive Social Sharing Buttons
 Team: @dbox, @joshuatuscan
 Site: http://www.kurtnoble.com/labs/rrssb
 Twitter: @therealkni

        ___           ___
       /__/|         /__/\        ___
      |  |:|         \  \:\      /  /\
      |  |:|          \  \:\    /  /:/
    __|  |:|      _____\__\:\  /__/::\
   /__/\_|:|____ /__/::::::::\ \__\/\:\__
   \  \:\/:::::/ \  \:\~~\~~\/    \  \:\/\
    \  \::/~~~~   \  \:\  ~~~      \__\::/
     \  \:\        \  \:\          /__/:/
      \  \:\        \  \:\         \__\/
       \__\/         \__\/
*/
(function(f,a,l){"use strict";var m=function(){a(".rrssb-buttons").each(function(b){b=a(this);var d=100/a("li",b).length;a("li",b).css("width",d+"%").attr("data-initwidth",d)})},p=function(){a(".rrssb-buttons").each(function(b){b=a(this);var d=parseFloat(a(b).width()),c=a("li",b).not(".small").first().width(),e=a("li.small",b).length;170<c&&1>e?a(b).addClass("large-format"):a(b).removeClass("large-format");200>d?a(b).removeClass("small-format").addClass("tiny-format"):a(b).removeClass("tiny-format")})},q=function(){a(".rrssb-buttons").each(function(b){b= a(this);var d=0,c=0,e,f;e=a("li.small",b).length;if(e===a("li",b).length){var k=42*e,g=parseFloat(a(b).width());e=a("li.small",b).first();f=parseFloat(a(e).attr("data-size"))+55;k+f<g&&(a(b).removeClass("small-format"),a("li.small",b).first().removeClass("small"),h())}else a("li",b).not(".small").each(function(b){b=parseFloat(a(this).attr("data-size"))+55;var e=parseFloat(a(this).width());d+=e;c+=b}),k=d-c,e=a("li.small",b).first(),f=parseFloat(a(e).attr("data-size"))+55,f<k&&(a(e).removeClass("small"), h())})},n=function(b){a(".rrssb-buttons").each(function(b){var c=a(this);a("li",c).nextAll();a(a("li",c).get().reverse()).each(function(b,d){if(!1===a(this).hasClass("small")){var f=parseFloat(a(this).attr("data-size"))+55,g=parseFloat(a(this).width());f>g&&(f=a("li",c).not(".small").last(),a(f).addClass("small"),h())}--d||q()})});!0===b&&g(h)},h=function(){a(".rrssb-buttons").each(function(b){b=a(this);var d,c,e;c=a("li.small",b).length;0<c&&c!==a("li",b).length?(a(b).removeClass("small-format"), a("li.small",b).css("width","42px"),e=42*c,d=a("li",b).not(".small").length,c=100/d,d=e/d,c=0<=navigator.userAgent.indexOf("Chrome")||0<=navigator.userAgent.indexOf("Safari")?"-webkit-calc("+c+"% - "+d+"px)":0<=navigator.userAgent.indexOf("Firefox")?"-moz-calc("+c+"% - "+d+"px)":"calc("+c+"% - "+d+"px)",a("li",b).not(".small").css("width",c)):(c===a("li",b).length?a(b).addClass("small-format"):a(b).removeClass("small-format"),m())});p()},r=function(){a(".rrssb-buttons").each(function(b){a(this).addClass("rrssb-"+ (b+1))});m();a(".rrssb-buttons li .text").each(function(b){b=parseFloat(a(this).width());a(this).closest("li").attr("data-size",b)});n(!0)},g=function(b){a(".rrssb-buttons li.small").removeClass("small");n();b()},s=function(){var a={};return function(d,c,e){e||(e="Don't call this twice without a uniqueId");a[e]&&clearTimeout(a[e]);a[e]=setTimeout(d,c)}}();a(document).ready(function(){a(".rrssb-buttons a.popup").on("click",function(b){var d=a(this),c=d.attr("href"),d=d.find(".text").html(),c=f.open(c, d,"scrollbars=yes, width=580, height=470, top="+((f.innerHeight?f.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-470/3+(f.screenTop!==l?f.screenTop:screen.top))+", left="+((f.innerWidth?f.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-290+(f.screenLeft!==l?f.screenLeft:screen.left)));f.focus&&c.focus();b.preventDefault()});a(f).resize(function(){g(h);s(function(){g(h)},200,"finished resizing")}); r()})})(window,jQuery);